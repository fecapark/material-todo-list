var L=Object.defineProperty;var f=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var u=(i,t,e)=>t in i?L(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,g=(i,t)=>{for(var e in t||(t={}))A.call(t,e)&&u(i,e,t[e]);if(f)for(var e of f(t))E.call(t,e)&&u(i,e,t[e]);return i};var r=(i,t,e)=>(u(i,typeof t!="symbol"?t+"":t,e),e);const b=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=e(n);fetch(n.href,a)}};b();const y=i=>i.startsWith("#")?i:`#${i}`,m=()=>{throw Error("Please set view action to routes.")},p=class{static setViewTo(t,e,s){const n=()=>{s&&(s.innerHTML=""),e()};this.INFO[t].view=n}static view(t){const e=y(t);if(!this.INFO.hasOwnProperty(e)){this.view404();return}this.INFO[e].view()}static viewWithRedirect(t){const e=y(t);window.history.pushState(null,"",`${p.ROOT_PATH}${e}`),this.view(e)}static view404(){const t=document.getElementById("app");t.innerHTML="404 Page not found."}static splitProxyPath(t){const e=new RegExp("(\\/proxy\\/\\d+)+"),s=t.match(e);return{proxy:s?s[0]:"",path:t.replace(e,"")}}static setInitialRootPath(){const{proxy:t}=this.splitProxyPath(window.location.pathname);t&&(this.ROOT_PATH=`${t}/`)}};let h=p;r(h,"ROOT_PATH",""),r(h,"INFO",{"#":{name:"home",view:m},"#logo":{name:"logo",view:m},"#signin":{name:"signin",view:m}});class C{constructor(){r(this,"events",{})}subscribe(t,e){return this.events.hasOwnProperty(t)||(this.events[t]=[]),this.events[t].push(e)}publish(t,e={}){return this.events.hasOwnProperty(t)?this.events[t].map(s=>s(e)):[]}}class P{constructor(){r(this,"preventPublish",!1);r(this,"actions");r(this,"eventManager");r(this,"state");this.actions={},this.state={},this.eventManager=new C,this.setStateProxy()}setStateProxy(){const t=(e,s,n)=>(e[s]=n,this.preventPublish||this.eventManager.publish("stateChange",this.state),!0);this.state=new Proxy({},{set:t})}setDefaultState(t,e){this.preventPublish=!0,this.state[t]=e,this.preventPublish=!1}setAction(t,e){const s=n=>{const a=e({state:g({},this.state),payload:n});return this.mergeState(a)};this.actions[t]=s}dispatch(t,e){if(!this.actions.hasOwnProperty(t))throw Error(`Invalid action type: ${t}.`);this.state=this.actions[t](e)}mergeState(t){return Object.assign(this.state,t)}getState(t){if(!this.state.hasOwnProperty(t))throw Error(`Invalid state key: ${t}.`);return this.state[t]}}class d{constructor({tagName:t="div",id:e="",classNames:s=[]}={}){r(this,"store");r(this,"container");r(this,"id");r(this,"classNames");this.id=e,this.classNames=s,this.container=this.createContainer(t),this.store=new P,this.store.eventManager.subscribe("stateChange",()=>this.render())}createContainer(t){const e=document.createElement(t);return e.id=this.id,this.classNames.forEach(s=>{e.classList.add(s)}),e}render(){throw Error("You must implement render method in component instance.")}}function v(i,t=1){setTimeout(()=>{i()},t)}class S{constructor(t,e){r(this,"target");r(this,"duration");r(this,"delay");r(this,"bezier");r(this,"animation");r(this,"callWhenEnd");r(this,"pauseWhenEnd");r(this,"isEnd",!1);var s,n;this.sequenceAnimator=t,this.target=e.target,this.animation=e.animation,this.duration=e.duration,this.delay=this.formatDelay(e.delay),this.bezier=(s=e.bezier)!=null?s:[0,0,1,1],this.callWhenEnd=this.createCallWhenEnd(e.callWhenEnd),this.pauseWhenEnd=(n=e.pauseWhenEnd)!=null?n:!1}convertBezierToStyle(){const[t,e,s,n]=this.bezier;return`cubic-bezier(${t}, ${e}, ${s}, ${n})`}formatDelay(t){const s=t!=null?t:.01;return s<=.01?.01:s}setAnimation(){this.target.style.transition=`${this.duration}s ${this.convertBezierToStyle()}`,this.target.style.transitionDelay=`${this.delay}s`}unsetAnimation(){this.target.style.transition="",this.target.style.transitionDelay=""}play(){v(()=>{this.target.addEventListener("transitionend",this.callWhenEnd)}),this.setAnimation(),this.animation({target:this.target})}pause(){this.sequenceAnimator.pause()}createCallWhenEnd(t){return e=>{e.stopPropagation(),t&&t(),this.pauseWhenEnd&&this.sequenceAnimator.pause(),this.target.removeEventListener("transitionend",this.callWhenEnd),this.isEnd=!0,this.sequenceAnimator.checkToNextLine()}}}class x{constructor(t,e=()=>{}){r(this,"animationLines");r(this,"currentAnimationIndex",0);r(this,"isStarted",!1);r(this,"isPaused",!1);r(this,"allEnd",!1);this.whenAllEnd=e,this.animationLines=this.lineDatasToAnimationLines(t)}lineDatasToAnimationLines(t=[]){const e=s=>s.map(n=>new S(this,n));return t.map(s=>(Array.isArray(s)||(s=[s]),e(s)))}start(){this.startLine(!this.isStarted),this.isPaused=!1,this.isStarted=!0}startLine(t=!1){this.currentAnimationIndex>=this.animationLines.length||this.animationLines[this.currentAnimationIndex].forEach(e=>{t?v(()=>{e.play()}):e.play()})}checkToNextLine(){const t=s=>{s.forEach(n=>n.unsetAnimation())};if(!!this.animationLines[this.currentAnimationIndex].every(s=>s.isEnd)){if(t(this.animationLines[this.currentAnimationIndex]),++this.currentAnimationIndex>=this.animationLines.length){this.isStarted=!1,this.isPaused=!1,this.allEnd=!0,this.whenAllEnd();return}this.isPaused||this.startLine()}}pause(){this.isPaused=!0}}function I(i){return[{target:i,animation:({target:t})=>{t.style.opacity="0",t.style.visibility="hidden"},duration:.4,delay:3,bezier:[.4,0,.2,1]}]}function $(i){const t={width:300,height:135},e=.35,s=[0,0,.2,1],n=.6,a=.18;return[[{target:i[0],animation:({target:o})=>{o.style.transform=`translateY(calc(-50% - ${t.height}px / 2))`},duration:e,delay:n,bezier:s},{target:i[1],animation:({target:o})=>{o.style.transform=`translateX(calc(50% + ${t.width}px / 2))`},duration:e,delay:n+a,bezier:s},{target:i[2],animation:({target:o})=>{o.style.transform=`translateY(calc(50% + ${t.height}px / 2))`},duration:e,delay:n+a*2,bezier:s},{target:i[3],animation:({target:o})=>{o.style.transform=`translateX(calc(-50% - ${t.width}px / 2))`},duration:e,delay:n+a*3,bezier:s}]]}function O(i,t=()=>{}){new x([...I(i.querySelector("#logo-text-container")),...$(i.querySelectorAll(".mask"))],()=>t()).start()}class T extends d{constructor(t=()=>{}){super({id:"initial-logo-container"}),this.whenLogoAnimationEnd=t,this.render()}render(){this.container.innerHTML=`
      <div id="logo-text-container">
        <span id="sub-logo-text" class="dummy">material</span>
        <span id="logo-text">Todo List</span>
        <span class="dummy"></span>
      </div>
        
      <div class="mask top"></div>
      <div class="mask right"></div>
      <div class="mask bottom"></div>
      <div class="mask left"></div>
    `,O(this.container,this.whenLogoAnimationEnd)}}class H extends d{constructor(){super({classNames:["info-card","head"]}),this.render()}render(){this.container.innerHTML=`
      <span class="title-text">\uBC18\uAC00\uC6CC\uC694.</span>
      <span class="sub-title-text">\uC0AC\uC6A9\uC790\uB2D8\uC774 \uB204\uAD70\uC9C0 \uC54C\uB824\uC8FC\uC138\uC694!</span>
    `}}class w extends d{constructor(){super({classNames:["info-card"]})}render(){}}class l{constructor(t,e=!0){r(this,"result");r(this,"isOr");this.value=t,this.result=e,this.isOr=!1}or(){return this.isOr=!0,this}mergeResult(t){return this.isOr?this.result||t:this.result&&t}moreThan(t){return new l(this.value,this.mergeResult(this.value>t))}lessThan(t){return new l(this.value,this.mergeResult(this.value<t))}equalAndMoreThan(t){return new l(this.value,this.mergeResult(this.value>=t))}equalAndLessThan(t){return new l(this.value,this.mergeResult(this.value<=t))}isIn(){return this.result}}const W=4;function z(i){i.classList.forEach(t=>{t.startsWith("shadow-lv-")&&i.classList.remove(t)})}function c(i,t){if(typeof t!="undefined"){if(new l(t).lessThan(0).or().moreThan(W).isIn())throw Error("Invalid shadow level to change.");z(i),t!==0&&i.classList.add(`shadow-lv-${t}`)}}function M(i){return[{target:i,animation:({target:t})=>{c(t,1)},duration:.3,delay:.2,bezier:[.4,0,.2,1]}]}function q(i){return[{target:i.querySelector(".title-text"),animation:({target:t})=>{t.style.opacity="1"},duration:.6,bezier:[.25,0,.2,1]},{target:i.querySelector(".sub-title-text"),animation:({target:t})=>{t.style.opacity="1"},duration:.6,bezier:[.25,0,.2,1]}]}function N(i,t,e){return[{target:i,animation:({target:n})=>{c(n,3)},duration:.3,delay:.2,bezier:[.4,0,.2,1]},[{target:i,animation:({target:n})=>{n.style.top=`calc(50% - 135px - ${20}px)`},duration:.35,delay:.2,bezier:[.4,0,.2,1]},{target:t,animation:({target:n})=>{c(n,2)},duration:.3,delay:.3,bezier:[.4,0,.2,1]}],{target:e,animation:({target:n})=>{c(n,1),n.style.top=`calc(50% + 135px + ${20}px)`},duration:.35,bezier:[.4,0,.2,1]}]}function R(i,t){return[[{target:i,animation:({target:e})=>{c(e,1)},duration:.3,delay:.1,bezier:[.4,0,.2,1]},{target:t,animation:({target:e})=>{c(e,1)},duration:.3,bezier:[.4,0,.2,1]}]]}function V(i,t,e,s,n=()=>{}){new x([...M(t),...q(t),...N(t,e,s),...R(t,e)],()=>{n()}).start()}class F extends d{constructor(){super({id:"main-container"}),this.render()}render(){this.container.innerHTML=`
      <div class="card-container"></div>
    `;const t=this.container.querySelector(".card-container"),e=new H,s=new w,n=new w;t.appendChild(n.container),t.appendChild(s.container),t.appendChild(e.container),V(t,e.container,s.container,n.container)}}class B extends d{constructor(){super({id:"app"});r(this,"appRendered",!1);r(this,"initialLogo");r(this,"mainContainer");this.store.setDefaultState("logined",!1),this.store.setDefaultState("logoEnd",!1),this.store.setAction("setLogoEnd",({state:e})=>({logoEnd:!e.logoEnd})),this.setViews(),h.setInitialRootPath(),this.render()}setViews(){h.setViewTo("#",this.renderHome.bind(this),this.container),h.setViewTo("#logo",this.renderLogo.bind(this),this.container),h.setViewTo("#signin",this.renderSignIn.bind(this),this.container)}renderHome(){h.viewWithRedirect("#logo")}renderLogo(){this.initialLogo=new T(()=>{this.store.dispatch("setLogoEnd",{})}),this.container.appendChild(this.initialLogo.container)}renderSignIn(){this.mainContainer=new F,this.container.appendChild(this.mainContainer.container)}render(){if(document.body.prepend(this.container),!this.appRendered){h.view(window.location.hash),this.appRendered=!0;return}if(!this.store.getState("logoEnd"))throw Error("Un expected state change.");this.store.getState("logined")?this.container.innerHTML="Welcome! You logined!":h.viewWithRedirect("#signin")}}window.onload=()=>{new B};
