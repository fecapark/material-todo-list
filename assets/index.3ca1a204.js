var W=Object.defineProperty;var F=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var I=(n,t,e)=>t in n?W(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,L=(n,t)=>{for(var e in t||(t={}))$.call(t,e)&&I(n,e,t[e]);if(F)for(var e of F(t))D.call(t,e)&&I(n,e,t[e]);return n};var o=(n,t,e)=>(I(n,typeof t!="symbol"?t+"":t,e),e);const k=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}};k();const H=n=>n.startsWith("#")?n:`#${n}`,R=()=>{throw Error("Please set view action to routes.")},O=class{static setViewTo(t,e,r){const i=()=>{r&&(r.innerHTML=""),e()};this.INFO[t].view=i}static view(t){const e=H(t);if(!this.INFO.hasOwnProperty(e)){this.view404();return}this.INFO[e].view()}static viewWithRedirect(t){const e=H(t);window.history.pushState(null,"",`${O.ROOT_PATH}${e}`),this.view(e)}static view404(){const t=document.getElementById("app");t.innerHTML="404 Page not found."}static splitProxyPath(t){const e=new RegExp("(\\/proxy\\/\\d+)+"),r=t.match(e);return{proxy:r?r[0]:"",path:t.replace(e,"")}}static setInitialRootPath(){const{proxy:t}=this.splitProxyPath(window.location.pathname);t&&(this.ROOT_PATH=`${t}/`)}};let c=O;o(c,"ROOT_PATH",""),o(c,"INFO",{"#":{name:"home",view:R},"#logo":{name:"logo",view:R},"#signin":{name:"signin",view:R}});class _{constructor(){o(this,"events",{})}subscribe(t,e){return this.events.hasOwnProperty(t)||(this.events[t]=[]),this.events[t].push(e)}publish(t,e={}){return this.events.hasOwnProperty(t)?this.events[t].map(r=>r(e)):[]}}class U{constructor(){o(this,"preventPublish",!1);o(this,"actions");o(this,"eventManager");o(this,"state");this.actions={},this.state={},this.eventManager=new _,this.setStateProxy()}setStateProxy(){const t=(e,r,i)=>(e[r]=i,this.preventPublish||this.eventManager.publish("stateChange",this.state),!0);this.state=new Proxy({},{set:t})}setDefaultState(t,e){this.preventPublish=!0,this.state[t]=e,this.preventPublish=!1}setAction(t,e){const r=i=>{const a=e({state:L({},this.state),payload:i});return this.mergeState(a)};this.actions[t]=r}dispatch(t,e){if(!this.actions.hasOwnProperty(t))throw Error(`Invalid action type: ${t}.`);this.state=this.actions[t](e)}mergeState(t){return Object.assign(this.state,t)}getState(t){if(!this.state.hasOwnProperty(t))throw Error(`Invalid state key: ${t}.`);return this.state[t]}}class b{constructor({tagName:t="div",id:e="",classNames:r=[]}={}){o(this,"store");o(this,"container");o(this,"id");o(this,"classNames");this.id=e,this.classNames=r,this.container=this.createContainer(t),this.store=new U,this.store.eventManager.subscribe("stateChange",()=>this.render())}createContainer(t){const e=document.createElement(t);return e.id=this.id,this.classNames.forEach(r=>{e.classList.add(r)}),e}render(){throw Error("You must implement render method in component instance.")}}const v=class{get length(){return v.datas.length}popBy(t){return v.datas.filter(e=>t(e)).pop()}pushAsUniqueData(t,e){v.datas=v.datas.filter(r=>!e(r)),v.datas.push(t)}};let E=v;o(E,"datas",[]);class j{constructor(){o(this,"historyStack",new E)}get length(){return this.historyStack.length}isFindingData(t,e){return t.target===e.target&&t.prop===e.prop&&t.fvalue===e.fvalue}find(t,e,r){return this.historyStack.popBy(i=>this.isFindingData(i,{target:t,prop:e,fvalue:r}))}push(t){const{target:e,styles:r}=t;r.forEach(i=>{const{prop:a,fvalue:s,from:l,to:d}=i;this.historyStack.pushAsUniqueData({target:e,prop:a,fvalue:s,from:l,to:d},u=>this.isFindingData(u,{target:e,prop:a,fvalue:s}))})}}var Y=4,Z=.001,G=1e-7,J=10,w=11,x=1/(w-1),Q=typeof Float32Array=="function";function z(n,t){return 1-3*t+3*n}function M(n,t){return 3*t-6*n}function T(n){return 3*n}function C(n,t,e){return((z(t,e)*n+M(t,e))*n+T(t))*n}function V(n,t,e){return 3*z(t,e)*n*n+2*M(t,e)*n+T(t)}function K(n,t,e,r,i){var a,s,l=0;do s=t+(e-t)/2,a=C(s,r,i)-n,a>0?e=s:t=s;while(Math.abs(a)>G&&++l<J);return s}function X(n,t,e,r){for(var i=0;i<Y;++i){var a=V(t,e,r);if(a===0)return t;var s=C(t,e,r)-n;t-=s/a}return t}function tt(n){return n}var et=function(t,e,r,i){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&r===i)return tt;for(var a=Q?new Float32Array(w):new Array(w),s=0;s<w;++s)a[s]=C(s*x,t,r);function l(d){for(var u=0,h=1,y=w-1;h!==y&&a[h]<=d;++h)u+=x;--h;var g=(d-a[h])/(a[h+1]-a[h]),p=u+g*x,m=V(p,t,r);return m>=Z?X(d,p,t,r):m===0?p:K(d,u,u+x,t,r)}return function(u){return u===0?0:u===1?1:C(l(u),e,i)}};const N={linear:[0,0,1,1],ease:[.25,.1,.25,1],"material-normal":[.4,0,.2,1],"material-accel":[0,0,.2,1]};class nt{constructor(t,e=()=>{},r){o(this,"data");o(this,"animator",null);this.moreOnEnd=e,this.animationHistoryStorage=r,this.data=this.parseData(t)}parseData(t){var s,l,d,u;function e(h){h.styles.forEach(y=>{const{fvalue:g,from:p,to:m}=y;if(g.count("%x")!==p.length)throw RangeError(`You must set amount of from values same as format keywords. (from: ${p.length}, format('%x'): ${g.count("%x")})`);if(p.length!==m.length)throw RangeError("Animation from and to value must be matched one-to-one.")})}const r=()=>t.styles.map(h=>{const{prop:y,fvalue:g,from:p}=h;if(g.includes("%x")&&p.length===0){const m=this.animationHistoryStorage.find(t.target,y,g);if(!m)throw TypeError("You must set 'from' values for initial animation data.");h.from=[...m.to]}return h}),i=typeof t.bezier=="string"?N[t.bezier]:(s=t.bezier)!=null?s:N.linear,a={target:t.target,styles:r(),duration:t.duration,delay:(l=t.delay)!=null?l:0,bezier:i,onEnd:(d=t.onEnd)!=null?d:()=>{},pauseOnEnd:(u=t.pauseOnEnd)!=null?u:!1};return e(a),a}getCurrentValuesAsRatio(t,e,r){const i=[];for(let a=0;a<t.length;a++){const s=t[a],l=e[a];i.push(s+(l-s)*r)}return i}animate(t){this.data.styles.forEach(r=>{const{prop:i,fvalue:a,from:s,to:l}=r,d=this.parseFormatedStyleString(a,this.getCurrentValuesAsRatio(s,l,t));this.data.target.style.setProperty(i,d)})}getAnimator(){let t=null;const e=et(...this.data.bezier);return()=>{t||(t=new Date);const i=(+new Date-+t)/1e3,a=Math.min(i/this.data.duration,1);return this.animate(e(a)),a===1}}parseFormatedStyleString(t,e){const r=t.split("%x");return e.forEach((i,a)=>{r.splice(a*2+1,0,i.toString())}),r.join("")}play(){var t;this.animator=(t=this.animator)!=null?t:this.getAnimator(),setTimeout(()=>{requestAnimationFrame(this.runAnimationFrame.bind(this))},this.data.delay*1e3)}runAnimationFrame(){const t=requestAnimationFrame(this.runAnimationFrame.bind(this));(!this.animator||this.animator())&&(cancelAnimationFrame(t),this.animator=null,this.data.onEnd({target:this.data.target}),this.moreOnEnd())}}class B{constructor(t,e=()=>{}){o(this,"animationHistoryStorage");o(this,"sequences");o(this,"idx",0);o(this,"endCount",0);o(this,"isPaused",!1);this.onAllEnd=e,this.animationHistoryStorage=new j,this.sequences=this.parseData(t)}get currentSequence(){return this.sequences[this.idx]}parseData(t){return t.map(e=>Array.isArray(e)?e:[e])}play(){this.idx>=this.sequences.length||(this.isPaused=!1,this.currentSequence.forEach(t=>{new nt(t,this.checkToNextSequence.bind(this),this.animationHistoryStorage).play(),this.animationHistoryStorage.push(t),t.pauseOnEnd&&(this.isPaused=!0)}))}checkToNextSequence(){const t=()=>this.endCount>=this.currentSequence.length,e=()=>this.idx>=this.sequences.length;if(this.endCount++,!!t()){if(this.endCount=0,this.idx++,e()){this.onAllEnd(),this.isPaused=!1;return}this.isPaused||this.play()}}}function rt(n){return[{target:n,styles:[{prop:"opacity",fvalue:"%x",from:[1],to:[0]}],duration:.4,delay:3,bezier:[.4,0,.2,1],onEnd:()=>{n.style.visibility="hidden"}}]}function it(n){function t(l){return n[l].getBoundingClientRect()}const e={width:300,height:135},r=.35,i=.6,a=.18,s=[0,0,.2,1];return[[{target:n[0],styles:[{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:[-t(0).height],to:[-t(0).height/2-e.height/2]}],duration:r,delay:i,bezier:s},{target:n[1],styles:[{prop:"transform",fvalue:"translate3d(%xpx, 0, 0)",from:[t(0).width],to:[t(0).width/2+e.width/2]}],duration:r,delay:i+a,bezier:s},{target:n[2],styles:[{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:[t(0).height],to:[t(0).height/2+e.height/2]}],duration:r,delay:i+a*2,bezier:s},{target:n[3],styles:[{prop:"transform",fvalue:"translate3d(%xpx, 0, 0)",from:[-t(0).width],to:[-t(0).width/2-e.width/2]}],duration:r,delay:i+a*3,bezier:s}]]}function at(n,t=()=>{}){new B([...rt(n.querySelector("#logo-text-container")),...it(n.querySelectorAll(".mask"))],()=>t()).play()}class st extends b{constructor(t=()=>{}){super({id:"initial-logo-container"}),this.whenLogoAnimationEnd=t,this.render()}render(){this.container.innerHTML=`
      <div id="logo-text-container">
        <span id="sub-logo-text" class="dummy">material</span>
        <span id="logo-text">Todo List</span>
        <span class="dummy"></span>
      </div>
        
      <div class="mask top"></div>
      <div class="mask right"></div>
      <div class="mask bottom"></div>
      <div class="mask left"></div>
    `,requestAnimationFrame(()=>{at(this.container,this.whenLogoAnimationEnd)})}}class ot extends b{constructor(){super({classNames:["info-card","head"]}),this.render()}render(){this.container.innerHTML=`
      <span class="title-text">\uBC18\uAC00\uC6CC\uC694!</span>
      <span class="sub-title-text">\uC0AC\uC6A9\uC790\uB2D8\uC774 \uB204\uAD70\uC9C0 \uC54C\uB824\uC8FC\uC138\uC694.</span>
    `}}class q extends b{constructor(){super({classNames:["info-card"]})}render(){}}const lt={"0":[0,0,0,0,0,0],"1":[1,3,.13,1,3,.23],"2":[3,6,.16,3,6,.23],"3":[10,20,.19,6,6,.23],"4":[14,28,.25,10,10,.23]};function S(){return"0 %xpx %xpx rgba(0, 0, 0, %x), 0 %xpx %xpx rgba(0, 0, 0, %x)"}function f(n){return lt[n.toString()]}function ut(n){return[{target:n.querySelector(".title-text"),styles:[{prop:"opacity",fvalue:"%x",from:[0],to:[1]}],duration:.6,bezier:"ease",delay:.2},{target:n.querySelector(".sub-title-text"),styles:[{prop:"opacity",fvalue:"%x",from:[0],to:[1]}],duration:.6,bezier:"ease",delay:.1}]}function ht(n,t,e){return[{target:n,styles:[{prop:"box-shadow",fvalue:S(),from:f(0),to:f(3)}],duration:.3,delay:.2,bezier:"material-normal"},[{target:n,styles:[{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:[-n.getBoundingClientRect().height/2],to:[-n.getBoundingClientRect().height/2-135-20]}],duration:.35,delay:.2,bezier:"material-normal"},{target:t,styles:[{prop:"box-shadow",fvalue:S(),from:f(0),to:f(2)}],duration:.3,delay:.3,bezier:"material-normal"}],{target:e,styles:[{prop:"box-shadow",fvalue:S(),from:f(0),to:f(1)},{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:[-n.getBoundingClientRect().height/2],to:[-n.getBoundingClientRect().height/2+135+20]}],duration:.35,bezier:"material-normal"}]}function ct(n,t){return[[{target:n,styles:[{prop:"box-shadow",fvalue:S(),from:[],to:f(1)}],duration:.3,delay:.1,bezier:"material-normal"},{target:t,styles:[{prop:"box-shadow",fvalue:S(),from:[],to:f(1)}],duration:.3,bezier:"material-normal"}]]}function dt(n,t,e,r,i=()=>{}){new B([...ut(t),...ht(t,e,r),...ct(t,e)],()=>{i()}).play()}class pt extends b{constructor(){super({id:"main-container"}),this.render()}render(){this.container.innerHTML=`
      <div class="card-container"></div>
    `;const t=this.container.querySelector(".card-container"),e=new ot,r=new q,i=new q;t.appendChild(i.container),t.appendChild(r.container),t.appendChild(e.container),requestAnimationFrame(()=>{dt(t,e.container,r.container,i.container)})}}const P=class{constructor(t,e="click"){o(this,"targetRoute");this.target=t,this.targetRoute=this.getRouterDataFromElement(this.target),this.target.addEventListener(e,this.execute.bind(this)),this.addGlobalRouterEvents()}addGlobalRouterEvents(){P.globalEventSetted||(P.globalEventSetted=!0,window.addEventListener("popstate",this.renderViewWhenPopState.bind(this)),window.addEventListener("routetrigger",this.renderViewWhenRouteTriggered.bind(this)))}getRouterDataFromElement(t){const e=t.getAttribute("href");if(e==="")throw Error("Router must be setted html attribute 'href'.");return e}execute(t){t.preventDefault();const e=new CustomEvent("routetrigger",{composed:!0,detail:{href:this.targetRoute}});window.dispatchEvent(e)}renderViewWhenPopState(){c.view(window.location.hash)}renderViewWhenRouteTriggered(t){const{href:e}=t.detail;c.viewWithRedirect(e)}};let A=P;o(A,"globalEventSetted",!1);class ft extends b{constructor(){super({id:"app"});o(this,"appRendered",!1);o(this,"initialLogo");o(this,"mainContainer");this.store.setDefaultState("logined",!1),this.store.setDefaultState("logoEnd",!1),this.store.setAction("setLogoEnd",({state:e})=>({logoEnd:!e.logoEnd})),this.setViews(),c.setInitialRootPath(),new A(document.createElement("a")),this.render()}setViews(){c.setViewTo("#",this.renderHome.bind(this),this.container),c.setViewTo("#logo",this.renderLogo.bind(this),this.container),c.setViewTo("#signin",this.renderSignIn.bind(this),this.container)}renderHome(){c.viewWithRedirect("#logo")}renderLogo(){this.initialLogo=new st(()=>{this.store.dispatch("setLogoEnd",{})}),this.container.appendChild(this.initialLogo.container)}renderSignIn(){this.mainContainer=new pt,this.container.appendChild(this.mainContainer.container)}render(){if(document.body.prepend(this.container),!this.appRendered){c.view(window.location.hash),this.appRendered=!0;return}if(!this.store.getState("logoEnd"))throw Error("Un expected state change.");this.store.getState("logined")?this.container.innerHTML="Welcome! You logined!":c.viewWithRedirect("#signin")}}function gt(){String.prototype.count=function(n){return n===""?0:this.valueOf().split(n).length-1}}function mt(){gt()}window.onload=()=>{mt(),new ft};
