var U=Object.defineProperty;var N=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var P=(i,e,t)=>e in i?U(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,k=(i,e)=>{for(var t in e||(e={}))X.call(e,t)&&P(i,t,e[t]);if(N)for(var t of N(e))j.call(e,t)&&P(i,t,e[t]);return i};var o=(i,e,t)=>(P(i,typeof e!="symbol"?e+"":e,t),t);const K=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};K();const z=i=>i.startsWith("#")?i:`#${i}`,A=()=>{throw Error("Please set view action to routes.")},F=class{static setViewTo(e,t,n){const s=()=>{n&&(n.innerHTML=""),t()};this.INFO[e].view=s}static view(e){const t=z(e);if(!this.INFO.hasOwnProperty(t)){this.view404();return}this.INFO[t].view()}static viewWithRedirect(e){const t=z(e);window.history.pushState(null,"",`${F.ROOT_PATH}${t}`),this.view(t)}static view404(){const e=document.getElementById("app");e.innerHTML="404 Page not found."}static splitProxyPath(e){const t=new RegExp("(\\/proxy\\/\\d+)+"),n=e.match(t);return{proxy:n?n[0]:"",path:e.replace(t,"")}}static setInitialRootPath(){const{proxy:e}=this.splitProxyPath(window.location.pathname);e&&(this.ROOT_PATH=`${e}/`)}};let d=F;o(d,"ROOT_PATH",""),o(d,"INFO",{"#":{name:"home",view:A},"#logo":{name:"logo",view:A},"#signin":{name:"signin",view:A},"#main":{name:"main",view:A}});const M=class{constructor(e,t="click"){o(this,"targetRoute");this.target=e,this.targetRoute=this.getRouterDataFromElement(this.target),this.target.addEventListener(t,this.execute.bind(this)),this.addGlobalRouterEvents()}addGlobalRouterEvents(){M.globalEventSetted||(M.globalEventSetted=!0,window.addEventListener("popstate",this.renderViewWhenPopState.bind(this)),window.addEventListener("routetrigger",this.renderViewWhenRouteTriggered.bind(this)))}getRouterDataFromElement(e){const t=e.getAttribute("href");if(t==="")throw Error("Router must be setted html attribute 'href'.");return t}execute(e){e.preventDefault();const t=new CustomEvent("routetrigger",{composed:!0,detail:{href:this.targetRoute}});window.dispatchEvent(t)}renderViewWhenPopState(){d.view(window.location.hash)}renderViewWhenRouteTriggered(e){const{href:t}=e.detail;d.viewWithRedirect(t)}};let B=M;o(B,"globalEventSetted",!1);class Y{constructor(){o(this,"events",{})}subscribe(e,t){return this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)}publish(e,t={}){return this.events.hasOwnProperty(e)?this.events[e].map(n=>n(t)):[]}}class J{constructor(){o(this,"preventPublish",!1);o(this,"actions");o(this,"state");o(this,"eventManager");this.actions={},this.state={},this.eventManager=new Y,this.setStateProxy()}setStateProxy(){const e=(t,n,s)=>(t[n]=s,this.preventPublish||this.eventManager.publish("stateChange",this.state),!0);this.state=new Proxy({},{set:e})}mergeState(e){return Object.assign(this.state,e)}setDefaultState(e,t){this.preventPublish=!0,this.state[e]=t,this.preventPublish=!1}setAction(e,t){const n=s=>{const r=t({state:k({},this.state),payload:s});return this.mergeState(r)};this.actions[e]=n}dispatch(e,t){if(!this.actions.hasOwnProperty(e))throw Error(`Invalid action type: ${e}.`);this.state=this.actions[e](t)}getState(e){if(!this.state.hasOwnProperty(e))throw Error(`Invalid state key: ${e}.`);return this.state[e]}}class f{constructor({tagName:e="div",id:t="",classNames:n=[]}={}){o(this,"store");o(this,"container");o(this,"id");o(this,"classNames");this.id=t,this.classNames=n.filter(s=>s.trim()!==""),this.container=this.createContainer(e),this.store=new J,this.store.eventManager.subscribe("stateChange",()=>this.render())}createContainer(e){const t=document.createElement(e);return t.id=this.id,this.classNames.forEach(n=>{t.classList.add(n)}),t}appendElementsTo(e,...t){let n=this.qs(e);if(!n){if(e!=="")throw TypeError(`Cannot find elememnt using selector: ${e}`);n=this.container}t.forEach(s=>{n.appendChild(s)})}prependElementsTo(e,...t){let n=this.qs(e);if(!n){if(e!=="")throw TypeError(`Cannot find elememnt using selector: ${e}`);n=this.container}t.forEach(s=>{n.prepend(s)})}qs(e){try{return this.container.querySelector(e)}catch{return null}}html(){return this.container.outerHTML}render(){throw Error("You must implement render method in component instance.")}}const E=class{get length(){return E.datas.length}popBy(e){return E.datas.filter(t=>e(t)).pop()}pushAsUniqueData(e,t){E.datas=E.datas.filter(n=>!t(n)),E.datas.push(e)}};let R=E;o(R,"datas",[]);class Z{constructor(){o(this,"historyStack",new R)}get length(){return this.historyStack.length}isFindingData(e,t){return e.target===t.target&&e.prop===t.prop&&e.fvalue===t.fvalue}find(e,t,n){return this.historyStack.popBy(s=>this.isFindingData(s,{target:e,prop:t,fvalue:n}))}push(e){const{target:t,styles:n}=e;n.forEach(s=>{const{prop:r,fvalue:a,from:l,to:u}=s;this.historyStack.pushAsUniqueData({target:t,prop:r,fvalue:a,from:l,to:u},h=>this.isFindingData(h,{target:t,prop:r,fvalue:a}))})}}var Q=4,tt=.001,et=1e-7,nt=10,x=11,L=1/(x-1),it=typeof Float32Array=="function";function $(i,e){return 1-3*e+3*i}function _(i,e){return 3*e-6*i}function D(i){return 3*i}function I(i,e,t){return(($(e,t)*i+_(e,t))*i+D(e))*i}function V(i,e,t){return 3*$(e,t)*i*i+2*_(e,t)*i+D(e)}function st(i,e,t,n,s){var r,a,l=0;do a=e+(t-e)/2,r=I(a,n,s)-i,r>0?t=a:e=a;while(Math.abs(r)>et&&++l<nt);return a}function rt(i,e,t,n){for(var s=0;s<Q;++s){var r=V(e,t,n);if(r===0)return e;var a=I(e,t,n)-i;e-=a/r}return e}function ot(i){return i}var at=function(e,t,n,s){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===s)return ot;for(var r=it?new Float32Array(x):new Array(x),a=0;a<x;++a)r[a]=I(a*L,e,n);function l(u){for(var h=0,g=1,y=x-1;g!==y&&r[g]<=u;++g)h+=L;--g;var w=(u-r[g])/(r[g+1]-r[g]),m=h+w*L,T=V(m,e,n);return T>=tt?rt(u,m,e,n):T===0?m:st(u,h,h+L,e,n)}return function(h){return h===0?0:h===1?1:I(l(h),t,s)}};const O={linear:[0,0,1,1],ease:[.25,.1,.25,1],"material-normal":[.4,0,.2,1],"material-accel":[0,0,.2,1],"super-accel":[.22,.68,0,1]};function lt(i){return{target:document.createElement("div"),styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[0]}],duration:i}}class ut{constructor(e,t=()=>{},n){o(this,"data");o(this,"preFromValues",[]);o(this,"preToValues",[]);o(this,"animator",null);this.moreOnEnd=t,this.animationHistoryStorage=n,this.data=this.parseData(e)}parseData(e){var a,l,u,h,g;function t(y){y.styles.forEach(w=>{const{fvalue:m,from:T,to:q}=w,C=T(),G=q();if(m.count("%x")!==C.length)throw RangeError(`You must set amount of from values same as format keywords. (from: ${C.length}, format('%x'): ${m.count("%x")})`);if(C.length!==G.length)throw RangeError("Animation from and to value must be matched one-to-one.")})}const n=()=>e.styles.map(y=>{const{prop:w,fvalue:m,from:T}=y,q=T();if(m.includes("%x")&&q.length===0){const C=this.animationHistoryStorage.find(e.target,w,m);if(!C)throw TypeError("You must set 'from' values for initial animation data.");y.from=()=>[...C.to()]}return y}),s=typeof e.bezier=="string"?O[e.bezier]:(a=e.bezier)!=null?a:O.linear,r={target:e.target,styles:n(),duration:e.duration,delay:(l=e.delay)!=null?l:0,bezier:s,onStart:(u=e.onStart)!=null?u:()=>{},onEnd:(h=e.onEnd)!=null?h:()=>{},pauseOnEnd:(g=e.pauseOnEnd)!=null?g:!1};return t(r),r}getCurrentValuesAsRatio(e,t){const n=[];for(let s=0;s<this.preFromValues[e].length;s++){const r=this.preFromValues[e][s],a=this.preToValues[e][s];n.push(r+(a-r)*t)}return n}animate(e){this.data.styles.forEach((n,s)=>{const{prop:r,fvalue:a}=n,l=this.parseFormatedStyleString(a,this.getCurrentValuesAsRatio(s,e));this.data.target.style.setProperty(r,l)})}getAnimator(){let e=null;const t=at(...this.data.bezier);return()=>{e||(e=new Date);const s=(+new Date-+e)/1e3,r=Math.min(s/this.data.duration,1);return this.animate(t(r)),r===1}}parseFormatedStyleString(e,t){const n=e.split("%x");return t.forEach((s,r)=>{n.splice(r*2+1,0,s.toString())}),n.join("")}preCalculateValues(){this.data.styles.forEach(e=>{const{from:t,to:n}=e;this.preFromValues.push(t()),this.preToValues.push(n())})}play(){var n;const{onStart:e,target:t}=this.data;this.animator=(n=this.animator)!=null?n:this.getAnimator(),setTimeout(()=>{requestAnimationFrame(()=>{e({target:t}),this.preCalculateValues(),this.runAnimationFrame()})},this.data.delay*1e3)}runAnimationFrame(){const e=requestAnimationFrame(this.runAnimationFrame.bind(this));(!this.animator||this.animator())&&(cancelAnimationFrame(e),this.animator=null,this.data.onEnd({target:this.data.target}),this.moreOnEnd())}}class S{constructor(e,t=()=>{}){o(this,"animationHistoryStorage");o(this,"sequences");o(this,"idx",0);o(this,"endCount",0);o(this,"isPaused",!1);this.onAllEnd=t,this.animationHistoryStorage=new Z,this.sequences=this.parseData(e)}get currentSequence(){return this.sequences[this.idx]}parseData(e){return e.map(t=>Array.isArray(t)?t:[t])}play(){this.idx>=this.sequences.length||(this.isPaused=!1,this.currentSequence.forEach(e=>{new ut(e,this.checkToNextSequence.bind(this),this.animationHistoryStorage).play(),this.animationHistoryStorage.push(e),e.pauseOnEnd&&(this.isPaused=!0)}))}checkToNextSequence(){const e=()=>this.endCount>=this.currentSequence.length,t=()=>this.idx>=this.sequences.length;if(this.endCount++,!!e()){if(this.endCount=0,this.idx++,t()){this.onAllEnd(),this.isPaused=!1;return}this.isPaused||this.play()}}}function ht(i){return[[{target:i,styles:[{prop:"opacity",fvalue:"%x",from:()=>[1],to:()=>[0]}],duration:.4,delay:3,bezier:[.4,0,.2,1],onEnd:()=>{i.style.visibility="hidden"}}]]}function ct(i){function e(l){return i[l].getBoundingClientRect()}const t={width:300,height:135},n=.35,s=.6,r=.125,a=[0,0,.2,1];return[[{target:i[0],styles:[{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[-e(0).height],to:()=>[-e(0).height/2-t.height/2]}],duration:n,delay:s,bezier:a},{target:i[1],styles:[{prop:"transform",fvalue:"translate3d(%xpx, 0, 0)",from:()=>[e(0).width],to:()=>[e(0).width/2+t.width/2]}],duration:n,delay:s+r,bezier:a},{target:i[2],styles:[{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[e(0).height],to:()=>[e(0).height/2+t.height/2]}],duration:n,delay:s+r*2,bezier:a},{target:i[3],styles:[{prop:"transform",fvalue:"translate3d(%xpx, 0, 0)",from:()=>[-e(0).width],to:()=>[-e(0).width/2-t.width/2]}],duration:n,delay:s+r*3,bezier:a}]]}function dt(i,e=()=>{}){new S([...ht(i.querySelector("#logo-text-container")),...ct(i.querySelectorAll(".mask"))],()=>e()).play()}class pt extends f{constructor(e=()=>{}){super({id:"initial-logo-container"}),this.whenLogoAnimationEnd=e,this.render()}render(){this.container.innerHTML=`
      <div id="logo-text-container">
        <span class="dummy"></span>
        <span id="logo-text">Todo List</span>
        <span id="sub-logo-text" class="dummy">With material design</span>
      </div>
        
      <div class="mask top"></div>
      <div class="mask right"></div>
      <div class="mask bottom"></div>
      <div class="mask left"></div>
    `,requestAnimationFrame(()=>{dt(this.container,this.whenLogoAnimationEnd)})}}class v{constructor(e,t=!0){o(this,"result");o(this,"isOr");this.value=e,this.result=t,this.isOr=!1}or(){return this.isOr=!0,this}mergeResult(e){return this.isOr?this.result||e:this.result&&e}moreThan(e){return new v(this.value,this.mergeResult(this.value>e))}lessThan(e){return new v(this.value,this.mergeResult(this.value<e))}equalAndMoreThan(e){return new v(this.value,this.mergeResult(this.value>=e))}equalAndLessThan(e){return new v(this.value,this.mergeResult(this.value<=e))}isIn(){return this.result}}const gt=5,mt={"0":[0,0,0,0,0,0],"1":[1,3,.12,1,2,.24],"2":[3,6,.16,3,6,.23],"3":[10,20,.19,6,6,.23],"4":[14,28,.25,10,10,.22],"5":[19,38,.3,15,12,.22]};function ft(i){i.classList.forEach(e=>{e.startsWith("shadow-lv-")&&i.classList.remove(e)})}function vt(i,e){if(typeof e=="undefined")return;if(new v(e).lessThan(0).or().moreThan(gt).isIn())throw Error("Invalid shadow level to change.");if(ft(i),e===0)return;const t=c(e);i.style.boxShadow=`0 ${t[0]}px ${t[1]}px rgba(0, 0, 0, ${t[2]}), 0 ${t[3]}px ${t[4]}px rgba(0, 0, 0, ${t[5]})`}function p(){return"0 %xpx %xpx rgba(0, 0, 0, %x), 0 %xpx %xpx rgba(0, 0, 0, %x)"}function c(i){return mt[i.toString()]}class W extends f{constructor(t,{content:n="",shadowLevel:s=0,hiddenAtStart:r=!1,style:a={width:"",height:"",fontSize:""}}={}){super({tagName:"button",classNames:["circle-button",r?"hidden":""]});o(this,"content");o(this,"hiddenAtStart");o(this,"customStyle");o(this,"ripple");this.onTouch=t,this.content=n,this.hiddenAtStart=r,this.customStyle=a,vt(this.container,s),this.setSize(a),this.render()}setSize({width:t,height:n,fontSize:s}){if(this.hiddenAtStart){this.container.style.width="0",this.container.style.height="0",this.container.style.fontSize="0";return}this.container.style.width=t,this.container.style.height=n,this.container.style.fontSize=s}toggleHidden(){const{width:t,height:n,fontSize:s}=this.customStyle;this.container.classList.contains("hidden")?(this.container.style.width=t,this.container.style.height=n,this.container.style.fontSize=s):(this.container.style.width="0",this.container.style.height="0",this.container.style.fontSize="0"),this.container.classList.toggle("hidden")}handleButtonEvent(t){t.stopPropagation(),this.onTouch()}renderRipple(t){t.stopPropagation(),this.removeRipple(),this.ripple=document.createElement("div"),this.ripple.classList.add("ripple");const n=this.container.getBoundingClientRect();this.ripple.style.top=`${t.clientY-n.y}px`,this.ripple.style.left=`${t.clientX-n.x}px`,this.appendElementsTo("",this.ripple)}removeRipple(){!this.ripple||(this.ripple.remove(),this.ripple=void 0)}render(){this.container.removeEventListener("pointerup",this.handleButtonEvent.bind(this)),this.container.removeEventListener("pointerdown",this.renderRipple.bind(this)),this.container.innerHTML=this.content,this.container.addEventListener("pointerup",this.handleButtonEvent.bind(this)),this.container.addEventListener("pointerdown",this.renderRipple.bind(this))}}function yt(i){const e=i.querySelector(".info-name-container"),t=i.getBoundingClientRect(),n=e.getBoundingClientRect();return console.log(t.height,n.height),console.log((t.height-n.height)/2),(t.height-n.height)/2}function Et(i,e,t){const n=()=>{const{width:r,height:a}=i.getBoundingClientRect();return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))*1.02},s=()=>{const{width:r,height:a}=i.getBoundingClientRect(),l=i.querySelector(".result-profile-container");l.style.width=`${r}px`,l.style.height=`${a}px`};return[[{target:i,styles:[{prop:"box-shadow",fvalue:p(),from:()=>[],to:()=>c(2)}],duration:.3,bezier:"material-normal"},{target:e,styles:[{prop:"width",fvalue:"%xpx",from:()=>[0],to:()=>[n()]},{prop:"height",fvalue:"%xpx",from:()=>[0],to:()=>[n()]}],duration:.5,delay:.15,bezier:"material-normal",onStart:()=>{i.style.alignItems="center",s()},onEnd:()=>{i.style.backgroundColor="white"}},{target:t,styles:[{prop:"width",fvalue:"%xpx",from:()=>[0],to:()=>[n()]},{prop:"height",fvalue:"%xpx",from:()=>[0],to:()=>[n()]}],duration:.325,delay:.6,bezier:"material-accel"},...Tt(i,e,t)]]}function Tt(i,e,t){const n=()=>{e.remove(),t.remove(),i.appendChild(s),i.style.padding="0",s.style.backgroundColor="white",s.style.width="100%",s.style.height="100%"},s=t.querySelector(".result-profile-container"),r=s.querySelector(".back-button-wrapper"),a=s.querySelector(".info-name-container"),l=s.querySelector(".info-name"),u=s.querySelector(".info-remember");return[{target:r,styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[1]},{prop:"transform",fvalue:"translate3d(%xpx, %xpx, 0)",from:()=>[15,12],to:()=>[0,0]}],duration:.45,delay:.7,bezier:"material-normal"},{target:l,styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[1]},{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[8],to:()=>[0]}],duration:.45,delay:.75,bezier:"material-normal",onStart:()=>{const h=yt(i);a.style.marginTop=`${h}px`,a.style.marginBottom=`${h}px`,s.style.justifyContent="flex-start"}},{target:u,styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[1]},{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[11],to:()=>[0]}],duration:.45,delay:.8,bezier:"material-normal",onEnd:()=>{n()}}]}function Ct(i){const e=i.querySelector(".info-name-container"),t=i.querySelector(".result-profile-container > .info-tag-container"),n=i.querySelector(".submit-button-wrapper > .circle-button");return[[{target:i,styles:[{prop:"height",fvalue:"%xpx",from:()=>[i.getBoundingClientRect().height],to:()=>{const s=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=parseFloat(e.style.marginTop.replace("px","")),l=parseFloat(e.style.marginBottom.replace("px",""));return[a+s.height+l+r.height+l]}}],duration:.35,delay:.3,bezier:"material-normal"},{target:t.querySelector(".tag-block-container"),styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[1]},{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[-15],to:()=>[0]}],duration:.45,delay:.6,bezier:"material-normal",onStart:()=>{t.style.visibility="visible"}},{target:t.querySelector(".info-tag-text"),styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[1]},{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[-10],to:()=>[0]}],duration:.45,delay:.7,bezier:"material-normal"}],{target:n,styles:[{prop:"width",fvalue:"%x%",from:()=>[0],to:()=>[100]},{prop:"height",fvalue:"%x%",from:()=>[0],to:()=>[100]},{prop:"font-size",fvalue:"%xpx",from:()=>[0],to:()=>[16]},{prop:"box-shadow",fvalue:p(),from:()=>c(0),to:()=>c(2)}],duration:.45,delay:.3,bezier:"super-accel",onStart:({target:s})=>{s.classList.remove("hidden"),s.style.transition="none",i.style.overflow="visible"}}]}function bt(i,e,t,n=()=>{}){new S([...Et(i,e,t),...Ct(i)],()=>{n()}).play()}function wt(i,e){let t;return[{target:i.querySelector(".submit-button-wrapper > button"),styles:[{prop:"width",fvalue:"%x%",from:()=>[],to:()=>[0]},{prop:"height",fvalue:"%x%",from:()=>[],to:()=>[0]},{prop:"font-size",fvalue:"%xpx",from:()=>[],to:()=>[0]},{prop:"box-shadow",fvalue:p(),from:()=>[],to:()=>c(0)}],duration:.3,bezier:"material-accel"},{target:e,styles:[{prop:"width",fvalue:"%xpx",from:()=>[0],to:()=>[t]},{prop:"height",fvalue:"%xpx",from:()=>[0],to:()=>[t]}],duration:1,bezier:"super-accel",onStart:()=>{i.style.overflow="hidden",t=Math.sqrt(Math.pow(i.getBoundingClientRect().width*2,2)+Math.pow(i.getBoundingClientRect().height*2,2))*1.01}}]}function xt(i){return[{target:i,styles:[{prop:"height",fvalue:"%xpx",from:()=>[i.getBoundingClientRect().height],to:()=>[135]}],duration:.35,delay:.2,bezier:"material-normal"},{target:i,styles:[{prop:"box-shadow",fvalue:p(),from:()=>[],to:()=>c(0)}],duration:.4,bezier:"material-accel"}]}function St(i,e,t=()=>{}){new S([...wt(i,e),...xt(i)],()=>{t()}).play()}class At{constructor(e){o(this,"data");o(this,"parsed");this.data=e,this.parsed=this.parse(e)}parse(e){return JSON.parse(e)}}class b{static get(e){const t=e.getHash().hash,n=window.localStorage.getItem(t);if(!n)throw Error(`Invalid key name '${e}'.`);return new At(n)}static set(e,t){const n=e.getHash().hash;return window.localStorage.setItem(n,JSON.stringify(t))}}class Lt extends f{constructor(t,{reRenderCardContainer:n}){super({classNames:["info-card","head"]});o(this,"reRenderCardContainer");o(this,"isBackButtonTriggered",!1);o(this,"isResultProfileAnimationEnd",!1);o(this,"resultProfileData",{name:"",tags:[]});this.globalStore=t,this.reRenderCardContainer=n,this.store.setDefaultState("resultProfileTriggered",!1),this.store.setAction("triggerResultProfile",({payload:s})=>(this.resultProfileData={name:s.name,tags:s.tags},{resultProfileTriggered:!0})),this.render()}get isResultProfileTriggered(){return this.store.getState("resultProfileTriggered")}triggerResultProfile({name:t,tags:n}){this.store.dispatch("triggerResultProfile",{name:t,tags:n})}submit(){console.log(this.globalStore.getState("logined")),b.set("logined",!0)}handleBackButton(t){t.stopPropagation(),this.isResultProfileAnimationEnd&&(this.isBackButtonTriggered||(this.isBackButtonTriggered=!0,requestAnimationFrame(()=>{St(this.container,this.qs(".i-mask"),this.reRenderCardContainer)})))}render(){this.isResultProfileTriggered?(this.container.innerHTML=`
        <div class="dark-mask"></div>
        <div class="sub-mask">
          <div class="result-profile-container">
            <div class="i-mask"></div>
            <div class="top-button-container">
              <div class="back-button-wrapper">
                <i class="fa-solid fa-chevron-left"></i>
              </div>
              <div class="submit-button-wrapper">
              </div>
            </div>
            <div class="info-name-container">
              <span class="info-name">\uD658\uC601\uD569\uB2C8\uB2E4!</span>
              <span class="info-remember">\uC774\uC81C\uBD80\uD130 ${this.resultProfileData.name}\uB2D8\uC744 \uAE30\uC5B5\uD560\uAC8C\uC694.</span>
            </div>
            <div class="info-tag-container">
              <div class="tag-block-container"></div>
              <span class="info-tag-text">\uCD1D ${this.resultProfileData.tags.length}\uAC1C\uC758 \uD0DC\uADF8${this.resultProfileData.tags.length>1?"\uB4E4":""}\uB3C4 \uC124\uC815\uD588\uC5B4\uC694.</span>
            </div>
          </div>
        </div>
      `,this.prependElementsTo(".info-tag-container > .tag-block-container",...this.resultProfileData.tags.reverse().map(t=>t.container)),this.appendElementsTo(".submit-button-wrapper",new W(this.submit.bind(this),{content:'<i class="fa-solid fa-check"></i>',shadowLevel:2,hiddenAtStart:!0}).container),this.qs(".back-button-wrapper").addEventListener("pointerup",this.handleBackButton.bind(this)),requestAnimationFrame(()=>{bt(this.container,this.qs(".dark-mask"),this.qs(".sub-mask"),()=>{this.isResultProfileAnimationEnd=!0})})):this.container.innerHTML=`
        <span class="title-text">\uBC18\uAC00\uC6CC\uC694!</span>
        <span class="sub-title-text">\uC0AC\uC6A9\uC790\uB2D8\uC774 \uB204\uAD70\uC9C0 \uC54C\uB824\uC8FC\uC138\uC694.</span>
      `}}class H extends f{constructor(t,{title:n="",subTitle:s=""}={}){super({classNames:["info-card"]});o(this,"title");o(this,"subTitle");this.cardContent=t,this.title=n,this.subTitle=s,this.render()}render(){this.container.innerHTML=`
      <div class="mask"></div>
      <div class="card-title-container">
        <span class="title">${this.title}</span>
        <span class="sub-title">${this.subTitle}</span>
      </div>
    `,this.cardContent&&this.appendElementsTo("",this.cardContent.container)}}function Bt(i,e,t){const n=i.querySelector(".title-text"),s=i.querySelector(".sub-title-text"),r=e.querySelector(".mask");return[[{target:t.querySelector(".mask"),styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[1]}],duration:.25,bezier:"material-accel",onStart:({target:l})=>{l.style.visibility="visible"}},{target:r,styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[1]}],duration:.25,delay:.1,bezier:"material-accel",onStart:({target:l})=>{l.style.visibility="visible"},onEnd:()=>{e.innerHTML=""}},{target:n,styles:[{prop:"opacity",fvalue:"%x",from:()=>[1],to:()=>[0]}],duration:.25,delay:.2,bezier:"material-accel"},{target:s,styles:[{prop:"opacity",fvalue:"%x",from:()=>[1],to:()=>[0]}],duration:.25,delay:.2,bezier:"material-accel",onEnd:()=>{i.innerHTML=""}}]]}function Rt(i){const e=i.getBoundingClientRect().height;return e===135?[]:[{target:i,styles:[{prop:"height",fvalue:"%xpx",from:()=>[e],to:()=>[135]}],duration:.35,bezier:"material-normal",onStart:({target:t})=>{t.style.height=`${e}px`,t.innerHTML=""}}]}function It(i,e){return[[{target:e,styles:[{prop:"box-shadow",fvalue:p(),from:()=>[],to:()=>c(4)}],duration:.35,bezier:"material-normal"},{target:i,styles:[{prop:"box-shadow",fvalue:p(),from:()=>[],to:()=>c(5)}],duration:.35,delay:.12,bezier:"material-normal"}]]}function Mt(i,e,t,n){const r=()=>{i.style.display="",i.style.justifyContent="",i.style.alignItems="",e.style.position="absolute",e.style.top="",e.style.transform=`translate3d(0, ${-e.getBoundingClientRect().height*3/2-20}px, 0)`,t.style.position="absolute",t.style.top="",t.style.transform="",t.style.margin="",n.style.position="absolute",n.style.top="",n.style.transform=`translate3d(0, ${n.getBoundingClientRect().height/2+20}px, 0)`};return[lt(.1),[{target:n,styles:[{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[],to:()=>[-n.getBoundingClientRect().height/2]}],duration:.35,bezier:"material-normal",onStart:()=>{r()}},{target:n,styles:[{prop:"box-shadow",fvalue:p(),from:()=>[],to:()=>c(0)}],duration:.2,delay:.35,bezier:"material-normal"},{target:e,styles:[{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[],to:()=>[-e.getBoundingClientRect().height/2]}],duration:.35,delay:.2,bezier:"material-normal"},{target:t,styles:[{prop:"box-shadow",fvalue:p(),from:()=>[],to:()=>c(0)}],duration:.3,delay:.25,bezier:"material-normal"}]]}function qt(i,e,t,n,s=()=>{}){new S([...Bt(e,t,n),...Rt(n),...It(e,t),...Mt(i,e,t,n)],()=>{s()}).play()}function Pt(i){return[[{target:i.querySelector(".title-text"),styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[1]}],duration:.6,bezier:"ease",delay:.2}],{target:i.querySelector(".sub-title-text"),styles:[{prop:"opacity",fvalue:"%x",from:()=>[0],to:()=>[1]}],duration:.6,bezier:"ease",delay:.1}]}function Ft(i,e,t){return[{target:i,styles:[{prop:"box-shadow",fvalue:p(),from:()=>c(0),to:()=>c(5)}],duration:.3,delay:.2,bezier:"material-normal"},[{target:i,styles:[{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[-i.getBoundingClientRect().height/2],to:()=>[-i.getBoundingClientRect().height/2-135-20]}],duration:.35,delay:.1,bezier:"material-normal"},{target:e,styles:[{prop:"box-shadow",fvalue:p(),from:()=>c(0),to:()=>c(4)}],duration:.3,delay:.2,bezier:"material-normal"}],{target:t,styles:[{prop:"box-shadow",fvalue:p(),from:()=>c(0),to:()=>c(2)},{prop:"transform",fvalue:"translate3d(0, %xpx, 0)",from:()=>[-i.getBoundingClientRect().height/2],to:()=>[-i.getBoundingClientRect().height/2+135+20]}],duration:.35,bezier:"material-normal"}]}function Nt(i,e){return[[{target:i,styles:[{prop:"box-shadow",fvalue:p(),from:()=>[],to:()=>c(2)}],duration:.3,delay:.1,bezier:"material-normal"},{target:e,styles:[{prop:"box-shadow",fvalue:p(),from:()=>[],to:()=>c(2)}],duration:.3,bezier:"material-normal"}]]}function kt(i,e,t,n){i.style.display="flex",i.style.flexDirection="column-reverse",i.style.justifyContent="center",e.style.position="relative",e.style.top="0",e.style.transform="translate3d(0, 0, 0)",t.style.position="relative",t.style.top="0",t.style.transform="translate3d(0, 0, 0)",t.style.margin="20px 0",n.style.position="relative",n.style.top="0",n.style.transform="translate3d(0, 0, 0)",n.style.height="auto"}function zt(i,e,t,n,s=()=>{}){new S([...Pt(e),...Ft(e,t,n),...Nt(e,t)],()=>{s(),kt(i,e,t,n)}).play()}class Ot extends f{constructor(t,{hasCloseButton:n=!0}={}){const{hash:s,salt:r}=t.getHash();super({id:s+r,classNames:["tag-block"]});o(this,"text");o(this,"colorString");this.store.setDefaultState("hasCloseButton",n),this.store.setAction("toggleCloseButton",({state:a})=>({hasCloseButton:!a.hasCloseButton})),this.text=this.parseHashText(t),this.colorString=this.getRandomBackgroundColor(),this.render()}toggleCloseButton(){this.store.dispatch("toggleCloseButton",{})}parseHashText(t){return t=t.trim(),t=t.replaceAll(" ","_"),t.startsWith("#")?t:`#${t}`}getRandomBackgroundColor(){const t=Math.floor(Math.random()*360),n=Math.floor(Math.random()*10)+55,s=Math.floor(Math.random()*10)+75;return`hsl(${t}, ${n}%, ${s}%)`}render(){const t=this.store.getState("hasCloseButton");this.container.innerHTML=`
      <span class="tag-text">${this.text}</span>
      ${t?"<i class='fa-solid fa-xmark'></i>":""}
    `,this.container.style.backgroundColor=this.colorString}}class Ht extends f{constructor({onFocus:t=()=>{},onFocusout:n=()=>{},onSubmit:s=()=>{},onRemoveTag:r=()=>{}}={}){super({classNames:["tag-input-container"]});o(this,"onFocus");o(this,"onFocusout");o(this,"onSubmit");o(this,"onRemoveTag");o(this,"MAX_TEXT_LENGTH",10);o(this,"MAX_TAG_AMOUNT",5);o(this,"inputElement",null);o(this,"isPressingBackspace",!1);o(this,"removeFromMaxAmount",!1);this.onFocus=t,this.onFocusout=n,this.onSubmit=s,this.onRemoveTag=r,this.store.setDefaultState("tags",[]),this.store.setAction("addTag",({state:a,payload:l})=>{const{newTag:u}=l;return{tags:[...a.tags,u]}}),this.store.setAction("removeTag",({state:a,payload:l})=>{const{removeId:u}=l;return{tags:a.tags.filter(h=>h.id!==u)}}),this.render()}get isValid(){return this.tags.length>0}get tags(){return this.store.getState("tags")}isValidTextLength(t){return new v(t.trim().length).moreThan(0).equalAndLessThan(this.MAX_TEXT_LENGTH).isIn()}isUniqueTag(t){return this.tags.filter(n=>n.text===t.text).length===0}submitTag(t){if(t.preventDefault(),!this.inputElement||this.inputElement.value===""||!this.isValidTextLength(this.inputElement.value))return;if(this.tags.length>=this.MAX_TAG_AMOUNT){this.qs(".warn-container").classList.remove("hidden");return}const n=new Ot(this.inputElement.value);if(!this.isUniqueTag(n)){this.inputElement.value="";return}this.store.dispatch("addTag",{newTag:n}),this.inputElement.value="",this.inputElement.focus(),this.onSubmit()}renderInputElement(){return this.inputElement=document.createElement("input"),this.inputElement.classList.add("tag-input"),this.inputElement.placeholder="\uD0DC\uADF8 \uCD94\uAC00...",this.inputElement.spellcheck=!1,this.inputElement.maxLength=this.MAX_TEXT_LENGTH,this.inputElement.addEventListener("focus",()=>{this.onFocus()}),this.inputElement.addEventListener("focusout",()=>{this.isValid||this.onFocusout()}),this.inputElement}renderTagInputWrapper(){const t=document.createElement("form");return t.classList.add("tag-input-wrapper"),t.addEventListener("submit",this.submitTag.bind(this)),t.appendChild(this.renderInputElement()),t}handleRemovingTagByClick(t){t.stopPropagation();const n=t.target,s=n.parentElement;n.tagName==="I"&&(this.store.dispatch("removeTag",{removeId:s.id}),s.remove(),this.inputElement.focus(),this.onRemoveTag())}handleRemoveingTagByKey(t){const n=()=>{const r=this.qs(".warn-container");return this.tags.length>=this.MAX_TAG_AMOUNT&&!r.classList.contains("hidden")};t.stopPropagation();const s=this.tags[this.tags.length-1];t.key==="Backspace"&&this.tags.length!==0&&(this.isPressingBackspace||this.inputElement.value===""&&(this.removeFromMaxAmount=n(),this.store.dispatch("removeTag",{removeId:s.id}),s.container.remove(),this.inputElement.focus(),this.isPressingBackspace=!0,this.onRemoveTag()))}handleInitializeKeyboardState(t){t.stopPropagation(),t.key==="Backspace"&&(this.isPressingBackspace=!1)}applyEventsForRemoveTag(){const t=this.qs(".tag-inline-container");t.addEventListener("click",this.handleRemovingTagByClick.bind(this)),t.addEventListener("keydown",this.handleRemoveingTagByKey.bind(this)),t.addEventListener("keyup",this.handleInitializeKeyboardState.bind(this))}render(){this.container.innerHTML=`
      <div class="tag-inline-container"></div>
      <div class="warn-container ${this.removeFromMaxAmount?"":"hidden"}">
        <i class='fa-solid fa-circle-exclamation'></i>
        <span class='warn-text'>\uC6B0\uC120 5\uAC1C\uAE4C\uC9C0\uB9CC \uAE30\uC5B5\uD574\uBCFC\uAC8C\uC694.</span>
      </div>
    `,this.removeFromMaxAmount&&requestAnimationFrame(()=>{this.qs(".warn-container").classList.add("hidden"),this.removeFromMaxAmount=!1}),this.appendElementsTo(".tag-inline-container",...this.tags.map(t=>t.container),this.renderTagInputWrapper()),this.applyEventsForRemoveTag()}}class $t extends f{constructor(t="",{maxLength:n,onFocus:s=()=>{},onFocusout:r=()=>{},onInput:a=()=>{}}={maxLength:1/0}){super({classNames:["text-input-container"]});o(this,"MAX_TEXT_LEGNTH");o(this,"inputElementClassName","text-input");o(this,"placeholderElementClassName","text-input-placeholder");o(this,"onFocus");o(this,"onFocusout");o(this,"onInput");this.placeholder=t,this.MAX_TEXT_LEGNTH=n,this.onFocus=s,this.onFocusout=r,this.onInput=a,this.render()}get inputElement(){return this.qs(`.${this.inputElementClassName}`)}get placeholderElement(){return this.qs(`.${this.placeholderElementClassName}`)}get value(){return this.inputElement.value}get isValid(){return this.isValidTextLength(this.value)}isValidTextLength(t){return new v(t.length).moreThan(0).equalAndLessThan(this.MAX_TEXT_LEGNTH).isIn()}addInputElementEvents(){this.inputElement.addEventListener("focus",()=>{this.inputElement.classList.add("focused"),this.placeholderElement.classList.add("focused"),this.onFocus()}),this.inputElement.addEventListener("focusout",()=>{this.value.length>0||(this.inputElement.classList.remove("focused"),this.placeholderElement.classList.remove("focused"),this.onFocusout())}),this.inputElement.addEventListener("input",()=>{const t=this.value.trim(),n=this.qs(".warn-container");this.isValidTextLength(t)||t.length===0?n.classList.add("hidden"):n.classList.remove("hidden"),this.onInput()})}addPlaceholderElementEvents(){this.placeholderElement.addEventListener("click",t=>{t.stopPropagation(),this.inputElement.focus()})}render(){this.container.innerHTML=`
    <div class="input-content-container">
      <input class="${this.inputElementClassName}" spellcheck=false />
      <span class="${this.placeholderElementClassName}">${this.placeholder}</span>
    </div>
    <div class="warn-container hidden">
      <i class='fa-solid fa-circle-exclamation'></i>
      <span class='warn-text'>\uC774\uB984\uC774 \uB108\uBB34 \uAE34 \uAC83 \uAC19\uC544\uC694.</span>
    </div>
    `,this.addInputElementEvents(),this.addPlaceholderElementEvents()}}class _t extends f{constructor(t){super({id:"main-container"});o(this,"TITLE_CONTAINER_SELECTOR",".card-title-container");o(this,"TITLE_SELECTOR",`${this.TITLE_CONTAINER_SELECTOR} > .title`);o(this,"SUB_TITLE_SELECTOR",`${this.TITLE_CONTAINER_SELECTOR} > .sub-title`);o(this,"headCard");o(this,"nameCard");o(this,"tagCard");o(this,"button");o(this,"nameInfoValid",!1);o(this,"tagInfoValid",!1);this.globalStore=t,this.render()}get cardContainer(){return this.qs(".card-container")}checkAndToggleButton(){const t=()=>this.button.container.classList.contains("hidden");!this.button||(this.nameInfoValid&&this.tagInfoValid?t()&&this.button.toggleHidden():t()||this.button.toggleHidden())}renderHeadCard(){return new Lt(this.globalStore,{reRenderCardContainer:this.render.bind(this)})}renderNameCard(){const n=new $t("\uC81C \uC774\uB984\uC740...",{maxLength:10,onFocus:()=>{s.qs(this.TITLE_CONTAINER_SELECTOR).classList.add("hidden"),s.qs(this.TITLE_SELECTOR).classList.add("hidden"),s.qs(this.SUB_TITLE_SELECTOR).classList.add("hidden")},onFocusout:()=>{s.qs(this.TITLE_CONTAINER_SELECTOR).classList.remove("hidden"),s.qs(this.TITLE_SELECTOR).classList.remove("hidden"),s.qs(this.SUB_TITLE_SELECTOR).classList.remove("hidden")},onInput:()=>{this.nameInfoValid=n.isValid,this.checkAndToggleButton()}}),s=new H(n,{title:"\uC774\uB984\uC740 \uBB34\uC5C7\uC778\uAC00\uC694?",subTitle:`${10}\uC790 \uC774\uB0B4\uC5D0\uC11C \uC54C\uB824\uC8FC\uC138\uC694!`});return s}renderTagCard(){const t=new Ht({onFocus:()=>{n.qs(this.TITLE_CONTAINER_SELECTOR).classList.add("hidden"),n.qs(this.TITLE_SELECTOR).classList.add("hidden"),n.qs(this.SUB_TITLE_SELECTOR).classList.add("hidden")},onFocusout:()=>{n.qs(this.TITLE_CONTAINER_SELECTOR).classList.remove("hidden"),n.qs(this.TITLE_SELECTOR).classList.remove("hidden"),n.qs(this.SUB_TITLE_SELECTOR).classList.remove("hidden")},onSubmit:()=>{this.tagInfoValid=t.isValid,this.checkAndToggleButton()},onRemoveTag:()=>{this.tagInfoValid=t.isValid,this.checkAndToggleButton()}}),n=new H(t,{title:"\uAD00\uC2EC\uC0AC\uB3C4 \uC790\uC720\uB86D\uAC8C \uC54C\uB824\uC8FC\uC138\uC694!",subTitle:"\uCD1D 5\uAC1C\uAE4C\uC9C0 \uD0DC\uADF8\uB85C \uB9CC\uB4E4\uC5B4\uB4DC\uB9B4\uAC8C\uC694."});return n}renderButton(){const t=()=>{document.getElementById("app").scrollTo({top:0,behavior:"smooth"}),r.toggleHidden()},n=()=>{const a=this.nameCard.cardContent,l=this.tagCard.cardContent;requestAnimationFrame(()=>{qt(this.cardContainer,this.headCard.container,this.nameCard.container,this.tagCard.container,()=>{this.nameCard.container.remove(),this.tagCard.container.remove(),this.button.container.remove(),this.headCard.triggerResultProfile({name:a.value,tags:l.tags.map(u=>(u.toggleCloseButton(),u))})})})},s=()=>{new IntersectionObserver(([l])=>l.target.classList.toggle("is-sticky",l.intersectionRatio<1),{threshold:[1]}).observe(r.container)},r=new W(()=>{t(),n()},{content:'<i class="fa-solid fa-arrow-right"></i>',shadowLevel:3,hiddenAtStart:!0,style:{width:"3.6em",height:"3.6em",fontSize:"20px"}});return s(),r}render(){this.container.innerHTML=`
      <div class="card-container"></div>
    `,this.nameInfoValid=!1,this.tagInfoValid=!1,this.headCard=this.renderHeadCard(),this.nameCard=this.renderNameCard(),this.tagCard=this.renderTagCard(),this.button=this.renderButton(),this.prependElementsTo(".card-container",this.headCard.container,this.nameCard.container,this.tagCard.container,this.button.container),requestAnimationFrame(()=>{zt(this.cardContainer,this.headCard.container,this.nameCard.container,this.tagCard.container)})}}class Dt extends f{constructor(){super({id:"app"});o(this,"appRendered",!1);o(this,"initialLogo");o(this,"mainContainer");this.store.setDefaultState("logoEnd",!1),this.store.setAction("setLogoEnd",({state:t})=>({logoEnd:!t.logoEnd})),this.setViews(),d.setInitialRootPath(),new B(document.createElement("a")),this.initializeLocalStorage(),this.render()}initializeLocalStorage(){((n,s)=>{try{b.get(n)}catch{b.set(n,s)}})("logined",!1)}setViews(){d.setViewTo("#",this.renderHome.bind(this),this.container),d.setViewTo("#logo",this.renderLogo.bind(this),this.container),d.setViewTo("#signin",this.renderSignIn.bind(this),this.container),d.setViewTo("#main",this.renderDummyMain.bind(this),this.container)}renderHome(){d.viewWithRedirect("#logo")}renderLogo(){this.initialLogo=new pt(()=>{this.store.dispatch("setLogoEnd",{})}),this.container.appendChild(this.initialLogo.container)}renderSignIn(){if(b.get("logined").parsed){d.viewWithRedirect("#");return}this.mainContainer=new _t(this.store),this.container.appendChild(this.mainContainer.container)}renderDummyMain(){this.container.innerHTML=`
      <div>You logined!</div>
      <div>
        <button>Logout</button>
      </div>
    `,this.qs("button").addEventListener("pointerup",()=>{b.set("logined",!1),d.viewWithRedirect("#signin")})}render(){if(document.body.prepend(this.container),!this.appRendered){d.view(window.location.hash),this.appRendered=!0;return}b.get("logined").parsed?d.viewWithRedirect("#main"):d.viewWithRedirect("#signin")}}function Vt(){String.prototype.count=function(i){return i===""?0:this.valueOf().split(i).length-1},String.prototype.getHash=function(){function i(){let s="";for(let r=0;r<10;r++)if(Math.random()>.5){const a=Math.floor(Math.random()*26)+97;s+=String.fromCharCode(a)}else s+=Math.floor(Math.random()*10);return s}const e=i();let t=0,n;for(let s=0;s<this.length;s++)n=this.charCodeAt(s),t=(t<<5)-t+n,t|=0;return{hash:t.toString(),salt:e}}}function Wt(){Vt()}window.onload=()=>{Wt(),new Dt};
